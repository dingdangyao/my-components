<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>登陆组件使用例子</title>
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

    <!-- 引入样式 -->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <link rel="stylesheet" href="../lib/myvue.css">
    <!-- 引入组件库 -->
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script src="../lib/myvue.umd.js"></script>

</head>

<body>
<noscript>
    <strong>We're sorry but <%= htmlWebpackPlugin.chooses.title %> doesn't work properly without JavaScript enabled.
        Please enable it to continue.</strong>
</noscript>

<div id="app">
    <h2>普通用户登录</h2>
    <login :choose="choose" @submit="submit">
    </login>
    <hr />
    <h2>图片验证码登录</h2>
    <login :choose="choose1" @refresh="refresh" @submit="submit">
    </login>
    <hr />
    <h2>手机号登录</h2>
    <login :choose="choose2" @submit="submit" @send="send">
    </login>
    <hr />
    <h2>调整边距</h2>
    <login :choose="choose3" @submit="submit" @send="send">
    </login>
    <hr />
    <h2>改变字段</h2>
    <login :choose="choose4" @refresh="refresh" @submit="submit">
    </login>
</div>

</body>

<script>

    new Vue({
        el: '#app',
        data() {
            return {
                choose: {
                    width: 400,
                    time: 60,
                    codeType: "phone",
                    column: {
                        UserName: {
                            label: '用户名',
                            placeholder: "手机号/邮箱/用户名",
                            prefixIcon: "el-icon-user",
                            autocomplete: 'off'
                        },
                        password: {
                            label: '密码',
                            prefixIcon: "el-icon-unlock",
                            placeholder: "请输入密码",
                            autocomplete: 'off'
                        },
                        code: {
                            hide: true
                        }
                    }
                },
                choose1: {
                    width: 400,
                    codeType: "img",
                    codeSrc: "",
                    column: {
                    UserName: {
                        label: "用户名",
                        placeholder: "手机号/邮箱/用户名",
                        autocomplete: "off",
                        prefixIcon: "el-icon-user"
                    },
                    password: {
                        prefixIcon: "el-icon-unlock",
                        placeholder: "请输入密码",
                        label: "密码",
                        autocomplete: "off"
                    },
                    code: {
                        label: "验证码",
                        prefixIcon: "el-icon-c-scale-to-original",
                        placeholder: "请输入验证码",
                        height: 40,
                        autocomplete: "off"
                    }
                 }
                },
                choose2: {
                    width: 400,
                    time: 60,
                    codeType: 'phone',
                    column: {
                        UserName: {
                            label: '手机号',
                            prefixIcon: 'el-icon-mobile-phone',
                            placeholder: '手机号/邮箱/用户名',
                            autocomplete: 'off'
                        },
                        password: {
                            hide: true,
                        },
                        code: {
                            label: '验证码',
                            prefixIcon: "el-icon-c-scale-to-original",
                            placeholder: "请输入验证码",
                            autocomplete: 'off'
                        }
                    }
                },
                choose3: {
                    width: 400,
                    time: 60,
                    labelWidth: 120,
                    codeType: 'phone',
                    column: {
                        UserName: {
                            label: '手机号',
                            prefixIcon: 'el-icon-mobile-phone',
                            placeholder: '手机号/邮箱/用户名',
                            autocomplete: 'off'
                        },
                        password: {
                            hide: true,
                        },
                        code: {
                            label: '验证码',
                            prefixIcon: "el-icon-c-scale-to-original",
                            placeholder: "请输入验证码",
                            autocomplete: 'off'
                        }
                    }
                },
                choose4: {
                    width: 400,
                    codeSrc: '',
                    codeType: "img",
                    column: {
                        UserName: {
                            label: '用户名',
                            placeholder: "手机号/邮箱/用户名",
                            autocomplete: "off",
                            prefixIcon: "el-icon-user"
                        },
                        password: {
                            label: '密码',
                            prefixIcon: "el-icon-unlock",
                            placeholder: "请输入密码"
                        },
                        code: {
                            label: '验证码',
                            prefixIcon: "el-icon-c-scale-to-original",
                            placeholder: "请输入验证码",
                            autocomplete: 'off'
                        }
                    }
                }
            }
        },
        created() {
            this.refresh();
        },
        methods: {
            refresh() {
                this.$message.success('图片验证码刷新成功')
                this.choose1.codeSrc = "https://pigx.pig4cloud.com/code?randomStr=" + new Date().getTime();
                this.choose4.codeSrc = "https://pigx.pig4cloud.com/code?randomStr=" + new Date().getTime();
            },
            send(done) {
                this.$message.success('验证码发送成功')
                done();
            },
            submit(form) {
                this.$message.success(JSON.stringify(form))
                console.log(form);
            },
        }
    })
</script>

</html>
